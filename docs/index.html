<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>roxanne</title>
	<meta name="description" content="Documentation for roxanne">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">roxanne</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>roxanne</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#roxanne" id="roxanne" style="color: inherit; text-decoration: none;">
					<h1>roxanne</h1>
				</a>
				<p>roxanne is a simple implementation of the Redux pattern using rxjs while taking advantage of the abilities of typescript. It can be used across any platform, and can be used also in node js apps.</p>
				<p><a href="https://badge.fury.io/js/roxanne"><img src="https://badge.fury.io/js/roxanne.svg" alt="npm version"></a>
				<a href="https://github.com/ophirbushi/roxanne/issues"><img src="https://img.shields.io/badge/contributions-welcome-brightgreen.svg?style=flat" alt="contributions welcome"></a></p>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p>MIT License</p>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<p>roxanne has a peer dependency of rxjs so you will need to install both.</p>
				<pre><code class="language-sh">npm install roxanne rxjs</code></pre>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<p><a href="https://stackblitz.com/edit/angular-d9e5bq?file=src%2Fapp%2Fapp.module.ts">Demo - angular (Still work in progress)</a></p>
				<p>Let&#39;s quickly go over the main concepts:</p>
				<ul>
					<li>State</li>
					<li>Actions</li>
					<li>Reducer</li>
					<li>Store</li>
				</ul>
				<a href="#state" id="state" style="color: inherit; text-decoration: none;">
					<h3>State</h3>
				</a>
				<p>State is an interface representing your store&#39;s state.</p>
				<p>For example:</p>
				<pre><code class="language-ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> AppState {
  loading: <span class="hljs-built_in">boolean</span>;
  searchTerm: <span class="hljs-built_in">string</span>;
  products: Product[];
}</code></pre>
				<a href="#actions" id="actions" style="color: inherit; text-decoration: none;">
					<h3>Actions</h3>
				</a>
				<p>Actions is an interface whose keys are the action&#39;s type, and their value is the action&#39;s payload.</p>
				<p>For example:</p>
				<pre><code class="language-ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> AppActions {
  setLoading: <span class="hljs-built_in">boolean</span>;
  setSearchTerm: <span class="hljs-built_in">string</span>;
  fetchProducts: <span class="hljs-literal">null</span>;
  setProducts: Product[];
  displayError: { message: <span class="hljs-built_in">string</span> };
  <span class="hljs-comment">// etc...</span>
}</code></pre>
				<a href="#reducer" id="reducer" style="color: inherit; text-decoration: none;">
					<h3>Reducer</h3>
				</a>
				<p>A reducer is a function which receives 3 arguments:</p>
				<ol>
					<li>state - The current state</li>
					<li>action - The action&#39;s name (string)</li>
					<li>payload - The action&#39;s payload</li>
				</ol>
				<p>and returns the new state.</p>
				<p>You may import and use the &quot;Reducer&quot; typescript type, as shown in the example below, in order to use generics, but you don&#39;t have to.</p>
				<p>For example:</p>
				<pre><code class="language-ts"><span class="hljs-keyword">import</span> { Reducer } <span class="hljs-keyword">from</span> <span class="hljs-string">'roxanne'</span>;
<span class="hljs-keyword">import</span> { AppState } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app-state'</span>;
<span class="hljs-keyword">import</span> { AppActions } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app-actions'</span>;

<span class="hljs-keyword">const</span> appReducer: Reducer&lt;AppState, AppActions&gt; = <span class="hljs-function">(<span class="hljs-params">state, action, payload</span>) =&gt;</span> {
       <span class="hljs-keyword">switch</span> (action) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'setLoading'</span>:
                <span class="hljs-keyword">return</span> { ...state, loading: payload };
            <span class="hljs-keyword">case</span> <span class="hljs-string">'setSearchTerm'</span>:
                <span class="hljs-keyword">return</span> { ...state, searchTerm: payload };
            <span class="hljs-keyword">case</span> <span class="hljs-string">'setProducts'</span>:
                <span class="hljs-keyword">return</span> { ...state, products: payload };
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> state;
        }
    }
);</code></pre>
				<a href="#store" id="store" style="color: inherit; text-decoration: none;">
					<h3>Store</h3>
				</a>
				<p>The store is the class that manages the app&#39;s state. It extends the rxjs&#39; BehaviorSubject class.</p>
				<p>Example:</p>
				<pre><code class="language-ts"><span class="hljs-keyword">import</span> { Store } <span class="hljs-keyword">from</span> <span class="hljs-string">"roxanne"</span>;
<span class="hljs-keyword">import</span> { appReducer } <span class="hljs-keyword">from</span> <span class="hljs-string">"./app.reducer"</span>;
<span class="hljs-keyword">import</span> { appInitialState } <span class="hljs-keyword">from</span> <span class="hljs-string">"./app.init"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> AppState {
  loading: <span class="hljs-built_in">boolean</span>;
  searchTerm: <span class="hljs-built_in">string</span>;
  products: Product[];
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> AppActions {
  setLoading: <span class="hljs-built_in">boolean</span>;
  setSearchTerm: <span class="hljs-built_in">string</span>;
  fetchProducts: <span class="hljs-literal">null</span>;
  setProducts: Product[];
  displayError: { message: <span class="hljs-built_in">string</span> };
  <span class="hljs-comment">// etc...</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> appInitialState: AppState = {
  loading: <span class="hljs-literal">false</span>,
  searchTerm: <span class="hljs-literal">null</span>,
  products: <span class="hljs-literal">null</span>,
};

<span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Store&lt;AppState, AppActions&gt;(appInitialState, appReducer);

store.dispatch(<span class="hljs-string">'setLoading'</span>, <span class="hljs-literal">true</span>);
store.dispatch(<span class="hljs-string">'setLoading'</span>, <span class="hljs-string">'not a boolean!'</span>) <span class="hljs-comment">// typescript will show an error</span>


<span class="hljs-comment">// Subscriptions examples (Don't forget to unsubscribe):</span>

store.actionOfType(<span class="hljs-string">'showError'</span>)
    .subscribe(<span class="hljs-function">(<span class="hljs-params">{ payload }</span>) =&gt;</span> <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'An error occured:'</span>, payload));

store.subscribe(<span class="hljs-function"><span class="hljs-params">newState</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'New state is:'</span>, newState);
});
</code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_models_action_event_.html">&quot;models/action-<wbr>event&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_models_reducer_.html">&quot;models/reducer&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_store_.html">&quot;store&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_utils_generate_payload_type_checker_.html">&quot;utils/generate-<wbr>payload-<wbr>type-<wbr>checker&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_utils_retype_store_.html">&quot;utils/retype-<wbr>store&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>